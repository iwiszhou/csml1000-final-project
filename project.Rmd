---
title: "project"
output:
  pdf_document: default
  html_document: default
bibliography: reference.bib
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Problem Statement
This dataset includes data on adult's diet, physical activity, and weight status from Behavioral Risk Factor Surveillance System. This data is used for DNPAO's Data, Trends, and Maps database, which provides national and state specific data on obesity, nutrition, physical activity, and breastfeeding.  The dataset provider is particularly curious on whether socioeconomic status has an impact on obesity.  In her analysis, she compares the obesity rate in each state, and then perform a linear regression on the obesity rate for each educational status and the income bracket. [@Suzanne] 


## Approach
**1.  Import the source file**
```{r step1, echo=FALSE, include=FALSE}
library(tidyverse)
library(dplyr)
df <- read_csv("Nutrition__Physical_Activity__and_Obesity_-_Behavioral_Risk_Factor_Surveillance_System.csv")
df %>% 
  print(n = 10, width = Inf)
problems(df)
write_csv(df, "nutrition.csv")
```
**1. Clean dataset **

```{r dataStructure, echo=FALSE, results='asis' }
  library(knitr)
  dd <- tibble(
    colName = colnames(df),
    action = c("change to int",
               "change to int",
               "pass",
               "correlate with LocationAbbr",
               "may not relate to the problem",
               "correlate with Topic",
               "remove, because corelate to Class",
               "remove, correlate with QuestionID",
               "remove, contain only NA",
               "remove, contains only value 'Value'",
               "pass",
               "remove, corelate to Data_Value",
               "remove, correlate to Data_Value_Footnote",
               "update NA -> ''",
               "pass",
               "pass",
               "pass",
               "update NA -> 'Unknown'",
               "update colname -> Age, update NA-> 'Unknown'",
               "update NA -> 'Unknown",
               "update NA -> 'Unknown",
               "update NA -> 'Unknown'",
               "update colname -> 'Race' and update NA -> 'Unknown'",
               "spread to col:  latitude and longitude",
               "remove, correlate with col: TopicID",
               "pass",
               "pass",
               "remove, contain only one value 'VALUE'",
               "remove, corelated with column GeoLocation",
               "remove, corelation with StratificationCategoryId1",
               "remove, corelation with Income, Race/Ethnicity, Gender, Education, Age, Total, sub catigory under spread StratificationCategoryId1",
               "spread this column to OVR,GEN,EDU,AGEYR,INC,RACE",
               "remove, combined col: StratificationCategoryId1 + Stratification1"
    )
  )
  kable(dd, caption="column list")
```